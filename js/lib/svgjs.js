import * as _SVG from '@svgdotjs/svg.js';
import { Guitar } from './../quantarDesigner/Guitar';

var width = '100%', height = '100%';
var canvas = _SVG.SVG().addTo('#svg-el').size(width, height).viewbox(0,0,1000,350)
// draw background
var background = canvas.rect(width, height).fill('#dde3e1')

var body = canvas.path("M 304.00,190.33C 304.00,190.33 345.33,190.66 345.33,190.66  342.33,190.67 309.22,194.02 306.33,195.00  303.33,196.02 288.44,195.84 286.00,197.81  276.66,205.34 271.72,213.92 272.01,226.00  272.39,241.71 286.78,254.62 301.00,258.96  306.18,260.54 316.34,260.80 319.57,264.30  323.75,268.83 320.29,274.23 315.98,277.01  308.36,281.93 298.66,281.10 290.00,281.00  276.71,280.84 264.60,275.73 253.00,269.74  242.05,264.09 232.06,257.88 219.00,259.17  200.78,260.96 179.28,274.34 163.00,282.74  143.36,292.88 125.53,299.73 103.00,300.00  86.97,300.18 76.30,296.01 63.00,287.30  54.00,281.41 48.44,276.15 42.71,267.00  36.74,257.49 34.38,243.95 32.20,233.00  28.91,216.46 28.23,199.80 28.00,183.00  27.95,179.91 28.01,177.88 26.28,175.17  25.08,173.28 22.63,171.49 22.63,169.06  22.63,165.35 27.14,165.64 28.03,159.00  28.03,159.00 28.03,152.00 28.03,152.00  31.47,117.40 37.65,78.58 68.00,57.04  75.32,51.84 81.63,48.58 90.00,45.42  96.98,42.80 108.58,40.09 116.00,40.00  126.54,39.88 135.91,40.62 146.00,44.08  178.29,55.14 205.29,82.41 241.00,82.00  250.89,81.88 261.66,78.11 271.00,75.00  294.71,67.09 318.54,54.30 344.00,54.00  357.73,53.84 376.91,56.17 387.96,64.76  391.26,67.32 392.33,69.13 395.09,71.96  398.12,75.08 399.93,75.98 402.00,80.00  402.00,80.00 394.00,80.92 394.00,80.92  386.63,82.01 388.57,82.99 379.00,83.00  362.94,83.03 346.72,83.92 334.17,95.46  321.10,107.48 321.74,124.33 333.17,137.00  336.09,140.23 343.13,147.58 347.33,149.00  350.22,149.98 304.00,150.67 304.00,150.67  304.00,150.67 304.00,190.33 304.00,190.33 Z M 790.30,196.74 C 786.69,199.56 789.73,201.88 791.89,201.26   794.15,200.60 795.40,196.98 790.30,196.74 Z M 559.67,146.00")
var neck = canvas.path("M 678.00,184.33 C 678.00,184.33 373.00,190.00 373.00,190.00   373.00,190.00 333.00,191.00 333.00,191.00   333.00,191.00 303.00,192.00 303.00,192.00   299.99,192.00 300.47,146.91 304.67,148.33   307.55,149.31 426.33,149.33 426.33,149.33   426.33,149.33 675.00,148.00 675.00,148.00   676.33,171.67 677.00,168.33 678.00,184.33 Z M 796.33,250.00")
var head = canvas.path("M 742.00,142.00C 742.33,152.86 749.05,145.82 754.41,151.64  756.34,153.73 755.97,156.55 758.31,158.31  760.76,160.15 765.21,158.40 770.69,163.09  773.92,165.86 772.63,169.05 776.15,170.89  778.99,172.39 782.16,170.44 786.71,174.25  789.81,176.84 788.46,179.34 790.60,181.17  793.23,183.43 796.28,180.63 800.86,185.15  803.98,188.23 803.66,190.67 806.31,193.96  809.71,198.19 820.95,203.64 814.68,209.30  812.92,210.90 808.36,212.22 806.00,213.00  802.38,214.20 796.77,216.15 793.00,215.75  793.00,215.75 770.00,206.42 770.00,206.42  770.00,206.42 721.00,192.53 721.00,192.53  707.22,189.08 692.25,185.02 678.00,185.00  678.00,185.00 675.00,148.00 675.00,148.00  683.76,147.89 689.99,143.97 695.24,137.00  697.61,133.85 700.60,127.68 704.04,126.06  705.09,125.57 705.86,125.47 707.00,125.52  704.25,125.41 720.65,128.04 718.01,127.24  719.45,127.68 720.73,128.51 721.86,129.50  724.78,132.05 725.22,134.82 727.30,136.36  729.62,138.09 731.66,137.14 734.00,137.75  735.95,138.26 739.81,140.85 742.00,142.00 ZM 714.00,141.00C 714.00,141.00 711.00,144.00 711.00,144.00  711.00,144.00 714.00,141.00 714.00,141.00 ZM 726.13,151.74C 722.49,154.39 725.25,156.37 726.96,156.09  728.87,155.78 731.21,151.98 726.13,151.74 ZM 742.41,162.71C 739.57,165.30 742.25,166.80 743.78,166.27  745.28,165.75 746.46,162.96 742.41,162.71 ZM 760.17,173.91C 757.00,176.26 759.40,178.37 760.83,178.09  762.21,177.81 763.91,174.90 760.17,173.91 ZM 790.30,196.74C 786.69,199.56 789.73,201.88 791.89,201.26  794.15,200.60 795.40,196.98 790.30,196.74 Z")

var body2 = "M 304.00,190.33            C 304.00,190.33 345.33,190.66 345.33,190.66              342.33,190.67 309.22,194.02 306.33,195.00              303.33,196.02 288.44,195.84 286.00,197.81              276.66,205.34 271.72,213.92 272.01,226.00              272.39,241.71 286.78,254.62 301.00,258.96              306.18,260.54 316.34,260.80 319.57,264.30              323.75,268.83 320.29,274.23 315.98,277.01              308.36,281.93 298.66,281.10 290.00,281.00              276.71,280.84 242.10,301.48 230.50,295.50              219.55,289.85 232.06,257.88 219.00,259.17              200.78,260.96 188.03,307.24 165.50,307.50              149.47,307.69 108.80,267.20 95.50,258.50              86.50,252.61 69.23,195.65 63.50,186.50              57.54,176.99 -2.85,64.05 27.50,42.50              34.82,37.31 91.13,90.15 99.50,87.00              106.48,84.37 200.08,126.09 207.50,126.00              218.04,125.88 273.04,44.30 298.50,44.00              364.50,46.50 346.72,83.92 334.17,95.46              321.10,107.48 321.74,124.33 333.17,137.00              336.09,140.23 343.13,147.58 347.33,149.00              350.22,149.98 304.00,150.67 304.00,150.67              304.00,150.67 304.00,190.33 304.00,190.33 Z            M 790.30,196.74            C 786.69,199.56 789.73,201.88 791.89,201.26              794.15,200.60 795.40,196.98 790.30,196.74 Z            M 559.67,146.00";
  
const guitarStyles = new Guitar();

const designOptionsHtml = () => {
    return `
    <div class="row">
        <div class="input-group mb-3 col-4">
            <div class="input-group-prepend">
                <label class="input-group-text" for="guitar-body">Select Guitar Wood</label>
            </div>
            <select class="custom-select" id="guitar-finish">
                <option selected>Choose...</option>
                <option value="black">Black Walnut</a>
                <option value="purple">Purpleheart & Basswood</a>
                <option value="african">African Mahogany</a>
            </select>
        </div>
        <div class="input-group mb-3 col-4">
            <div class="input-group-prepend">
                <label class="input-group-text" for="guitar-body">Body Type</label>
            </div>
            <select class="custom-select" id="guitar-body">
                <option selected>Choose...</option>
                <option value="body1">Body 1</a>
                <option value="body2">Body 2</a>
            </select>
        </div>
        <div class="col-4">
            <button class="btn btn-primary" id="reset" type="submit">Reset</button>
        </div>
    </div>
    `;
};

const applyGuitarFinish = ( finishType ) => {
    switch (finishType) {
        case 'black':
            guitarStyles.setFinish( 'black' );
            body.fill('/wp-content/themes/techgnosis-theme/assets/images/guitar-wood.png').stroke({width:1, color: '#ccc'});
            head.fill('/wp-content/themes/techgnosis-theme/assets/images/guitar-wood.png').stroke({width:1, color: '#ccc'});
            break;
        case 'purple':
            guitarStyles.setFinish( 'purple' );
            body.fill('/wp-content/themes/techgnosis-theme/assets/images/purple.png').stroke({width:1, color: '#ccc'});
            head.fill('/wp-content/themes/techgnosis-theme/assets/images/purple.png').stroke({width:1, color: '#ccc'});
            break;
        case 'african':
            guitarStyles.setFinish( 'african' );
            body.fill('/wp-content/themes/techgnosis-theme/assets/images/african.png').stroke({width:1, color: '#ccc'});
            head.fill('/wp-content/themes/techgnosis-theme/assets/images/african.png').stroke({width:1, color: '#ccc'});
        break;
        default:
            break;
    }
}

const applyGuitarBody = ( bodyType ) => {
    switch ( bodyType ) {
        case 'body1':
            guitarStyles.setBody( 'body1' );
            body.remove();
            body = canvas.path("M 304.00,190.33C 304.00,190.33 345.33,190.66 345.33,190.66  342.33,190.67 309.22,194.02 306.33,195.00  303.33,196.02 288.44,195.84 286.00,197.81  276.66,205.34 271.72,213.92 272.01,226.00  272.39,241.71 286.78,254.62 301.00,258.96  306.18,260.54 316.34,260.80 319.57,264.30  323.75,268.83 320.29,274.23 315.98,277.01  308.36,281.93 298.66,281.10 290.00,281.00  276.71,280.84 264.60,275.73 253.00,269.74  242.05,264.09 232.06,257.88 219.00,259.17  200.78,260.96 179.28,274.34 163.00,282.74  143.36,292.88 125.53,299.73 103.00,300.00  86.97,300.18 76.30,296.01 63.00,287.30  54.00,281.41 48.44,276.15 42.71,267.00  36.74,257.49 34.38,243.95 32.20,233.00  28.91,216.46 28.23,199.80 28.00,183.00  27.95,179.91 28.01,177.88 26.28,175.17  25.08,173.28 22.63,171.49 22.63,169.06  22.63,165.35 27.14,165.64 28.03,159.00  28.03,159.00 28.03,152.00 28.03,152.00  31.47,117.40 37.65,78.58 68.00,57.04  75.32,51.84 81.63,48.58 90.00,45.42  96.98,42.80 108.58,40.09 116.00,40.00  126.54,39.88 135.91,40.62 146.00,44.08  178.29,55.14 205.29,82.41 241.00,82.00  250.89,81.88 261.66,78.11 271.00,75.00  294.71,67.09 318.54,54.30 344.00,54.00  357.73,53.84 376.91,56.17 387.96,64.76  391.26,67.32 392.33,69.13 395.09,71.96  398.12,75.08 399.93,75.98 402.00,80.00  402.00,80.00 394.00,80.92 394.00,80.92  386.63,82.01 388.57,82.99 379.00,83.00  362.94,83.03 346.72,83.92 334.17,95.46  321.10,107.48 321.74,124.33 333.17,137.00  336.09,140.23 343.13,147.58 347.33,149.00  350.22,149.98 304.00,150.67 304.00,150.67  304.00,150.67 304.00,190.33 304.00,190.33 Z M 790.30,196.74 C 786.69,199.56 789.73,201.88 791.89,201.26   794.15,200.60 795.40,196.98 790.30,196.74 Z M 559.67,146.00")
            applyGuitarFinish( guitarStyles.getFinish() );
            break;
        case 'body2':
            guitarStyles.setBody( 'body2' );
            body.remove();
            body = canvas.path(body2);
            applyGuitarFinish( guitarStyles.getFinish() );
            break;
        default:
            break;
    }
}

$('#svg-el').after( designOptionsHtml() );

$( 'body' ).on('change', '#guitar-finish', function(e){
    const finishType =e.target.value;
    applyGuitarFinish( finishType ); 
});

$( 'body' ).on('change', '#guitar-body', function(e){
    const bodyType =e.target.value;
    applyGuitarBody( bodyType );
});

$( 'body' ).on('click', '#reset', function(e){
    body.remove();
    neck.remove();
    head.remove();

    guitarStyles.setBody( 'body1' );
    guitarStyles.setFinish( '' );

    $('#guitar-finish').val('');
    $('#guitar-body').val('');

    body = canvas.path("M 304.00,190.33C 304.00,190.33 345.33,190.66 345.33,190.66  342.33,190.67 309.22,194.02 306.33,195.00  303.33,196.02 288.44,195.84 286.00,197.81  276.66,205.34 271.72,213.92 272.01,226.00  272.39,241.71 286.78,254.62 301.00,258.96  306.18,260.54 316.34,260.80 319.57,264.30  323.75,268.83 320.29,274.23 315.98,277.01  308.36,281.93 298.66,281.10 290.00,281.00  276.71,280.84 264.60,275.73 253.00,269.74  242.05,264.09 232.06,257.88 219.00,259.17  200.78,260.96 179.28,274.34 163.00,282.74  143.36,292.88 125.53,299.73 103.00,300.00  86.97,300.18 76.30,296.01 63.00,287.30  54.00,281.41 48.44,276.15 42.71,267.00  36.74,257.49 34.38,243.95 32.20,233.00  28.91,216.46 28.23,199.80 28.00,183.00  27.95,179.91 28.01,177.88 26.28,175.17  25.08,173.28 22.63,171.49 22.63,169.06  22.63,165.35 27.14,165.64 28.03,159.00  28.03,159.00 28.03,152.00 28.03,152.00  31.47,117.40 37.65,78.58 68.00,57.04  75.32,51.84 81.63,48.58 90.00,45.42  96.98,42.80 108.58,40.09 116.00,40.00  126.54,39.88 135.91,40.62 146.00,44.08  178.29,55.14 205.29,82.41 241.00,82.00  250.89,81.88 261.66,78.11 271.00,75.00  294.71,67.09 318.54,54.30 344.00,54.00  357.73,53.84 376.91,56.17 387.96,64.76  391.26,67.32 392.33,69.13 395.09,71.96  398.12,75.08 399.93,75.98 402.00,80.00  402.00,80.00 394.00,80.92 394.00,80.92  386.63,82.01 388.57,82.99 379.00,83.00  362.94,83.03 346.72,83.92 334.17,95.46  321.10,107.48 321.74,124.33 333.17,137.00  336.09,140.23 343.13,147.58 347.33,149.00  350.22,149.98 304.00,150.67 304.00,150.67  304.00,150.67 304.00,190.33 304.00,190.33 Z M 790.30,196.74 C 786.69,199.56 789.73,201.88 791.89,201.26   794.15,200.60 795.40,196.98 790.30,196.74 Z M 559.67,146.00")
    neck = canvas.path("M 678.00,184.33 C 678.00,184.33 373.00,190.00 373.00,190.00   373.00,190.00 333.00,191.00 333.00,191.00   333.00,191.00 303.00,192.00 303.00,192.00   299.99,192.00 300.47,146.91 304.67,148.33   307.55,149.31 426.33,149.33 426.33,149.33   426.33,149.33 675.00,148.00 675.00,148.00   676.33,171.67 677.00,168.33 678.00,184.33 Z M 796.33,250.00")
    head = canvas.path("M 742.00,142.00C 742.33,152.86 749.05,145.82 754.41,151.64  756.34,153.73 755.97,156.55 758.31,158.31  760.76,160.15 765.21,158.40 770.69,163.09  773.92,165.86 772.63,169.05 776.15,170.89  778.99,172.39 782.16,170.44 786.71,174.25  789.81,176.84 788.46,179.34 790.60,181.17  793.23,183.43 796.28,180.63 800.86,185.15  803.98,188.23 803.66,190.67 806.31,193.96  809.71,198.19 820.95,203.64 814.68,209.30  812.92,210.90 808.36,212.22 806.00,213.00  802.38,214.20 796.77,216.15 793.00,215.75  793.00,215.75 770.00,206.42 770.00,206.42  770.00,206.42 721.00,192.53 721.00,192.53  707.22,189.08 692.25,185.02 678.00,185.00  678.00,185.00 675.00,148.00 675.00,148.00  683.76,147.89 689.99,143.97 695.24,137.00  697.61,133.85 700.60,127.68 704.04,126.06  705.09,125.57 705.86,125.47 707.00,125.52  704.25,125.41 720.65,128.04 718.01,127.24  719.45,127.68 720.73,128.51 721.86,129.50  724.78,132.05 725.22,134.82 727.30,136.36  729.62,138.09 731.66,137.14 734.00,137.75  735.95,138.26 739.81,140.85 742.00,142.00 ZM 714.00,141.00C 714.00,141.00 711.00,144.00 711.00,144.00  711.00,144.00 714.00,141.00 714.00,141.00 ZM 726.13,151.74C 722.49,154.39 725.25,156.37 726.96,156.09  728.87,155.78 731.21,151.98 726.13,151.74 ZM 742.41,162.71C 739.57,165.30 742.25,166.80 743.78,166.27  745.28,165.75 746.46,162.96 742.41,162.71 ZM 760.17,173.91C 757.00,176.26 759.40,178.37 760.83,178.09  762.21,177.81 763.91,174.90 760.17,173.91 ZM 790.30,196.74C 786.69,199.56 789.73,201.88 791.89,201.26  794.15,200.60 795.40,196.98 790.30,196.74 Z")

});